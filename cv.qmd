---
title: "Laura K. Hilton, PhD"
subtitle: "Curriculum Vitae"

format:
  docx:
    toc: false
    geometry:
      - top=25mm
      - bottom=25mm
      - right=25mm
      - left=25mm
      - footskip=15mm
    reference-doc: csl/custom-reference-doc.docx
    mainfont: Helvetica
    sansfont: Helvetica

# Use the multibib extension
filters:
  - multibib

# Turn off YAML validation
validate-yaml: false

# Define list of separate bibliography files
bibliography:
  talks: references/talks.bib
  posters: references/posters.bib
  papers: references/papers.bib
  invited: references/not-peer-reviewed.bib
nocite: |
    @*
csl: csl/elsevier-harvard.csl

# Disable citeproc
citeproc: false

# Custom cross reference type for appendix tables
crossref:
  custom:
    - kind: float
      key: apptbl
      latex-env: apptbl
      reference-prefix: Table A
      space-before-numbering: false
      latex-list-of-description: Appendix Table
apptbl-cap-location: top

editor:
  render-on-save: false

execute:
  freeze: auto
  echo: false
  include: true
  warning: false
  message: false
  error: false
  cache: false
  
---

```{r}
#| label: setup

library(tidyverse)
library(knitr)
library(flextable)
library(kableExtra)

output_format <- knitr::pandoc_to()

```

# Education

```{r}
#| label: education

education <- read_tsv("components/education.tsv") %>% 
  mutate(details = str_replace_all(
    details, 
    "\\{return\\}", 
    "\n"                
  )) %>% 
  mutate(year = as.character(year))    

if(output_format == "docx"){
  education <- flextable(education) %>% 
    delete_part("header")

  set_table_properties(education, layout = "autofit")
}else{
  kable(education, col.names = NULL)
}

```

# Appointments

```{r}
#| label: appointments

appointments <- read_tsv("components/appointments.tsv") %>%
    mutate(details = str_replace_all(
        details,
        "\\{return\\}",
        "\n"
    )) %>%
    mutate(year = as.character(year))

if(output_format == "docx"){

  appointments <- flextable(appointments) %>%
      delete_part("header")

  set_table_properties(appointments, layout = "autofit")
}else{
  kable(appointments, col.names = NULL)
}

```

# Awards and Honours

```{r}
#| label: awards

awards <- read_tsv("components/awards_honours.tsv") %>%
    mutate(details = str_replace_all(
        details,
        "\\{return\\}",
        "\n"
    )) %>%
    mutate(year = as.character(year))

if(output_format == "docx"){
awards <- flextable(awards) %>%
    delete_part("header")

set_table_properties(awards, layout = "autofit")
}else{
  kable(awards)
}

```

# Publications

```{r}
#| label: count-citations

# Read the file content into a single string
text_content <- readLines("references/papers.bib", warn = FALSE)
text_content <- paste(text_content, collapse = "\n")

# Count the number of papers
pattern <- "@"
paper_count <- str_count(text_content, pattern)

# Count the number of first author papers
pattern <- c("\\{*Hilton\\}", "@article\\{hilton")
first_author_count <- str_count(text_content, paste0(pattern, collapse = "|"))

```

## Published Peer-Reviewed Articles and Preprints
*`r paper_count` total; `r first_author_count` as co-first author*

::: {#refs-papers}
:::

## Invited Commentary

::: {#refs-invited}
:::

# Presentations

## Invited Presentations

```{r}
#| label: invited-talks

invited_talks <- read_tsv("components/invited_talks.tsv") %>%
    mutate(details = str_replace_all(
        details,
        "\\{return\\}",
        "\n"
    )) %>%
    mutate(year = as.character(year))

if(output_format == "docx"){

invited_talks <- flextable(invited_talks) %>%
    delete_part("header")

set_table_properties(invited_talks, layout = "autofit")
}else{
  kable(invited_talks, col.names = NULL)
}

```

## Conference Oral Presentations

::: {#refs-talks}
:::

## Conference Poster Presentations

::: {#refs-posters}
:::

# Career Disruptions

```{r ft.align="left"}
#| label: disruptions

disruptions <- read_tsv("components/disruptions.tsv") %>%
    mutate(details = str_replace_all(
        details,
        "\\{return\\}",
        "\n"
    )) %>%
    mutate(year = as.character(year))

if(output_format == "docx"){

disruptions <- flextable(disruptions) %>%
    delete_part("header")
    
set_table_properties(disruptions, layout = "autofit")
}else{
  kable(disruptions)
}

```

# Service

## Anonymous Peer Review (2018-Present, Cumulative)

ASH Annual Meeting Abstracts (1), Blood (7), Haematologica (3), Journal of Clinical Oncology (3), Genome Medicine (1), Nature Communications (1), Blood Advances (8), Journal of Molecular Diagnostics (1), Cell Genomics (1). 

## Service to University and Community

```{r}
#| label: service

service <- read_tsv("components/service.tsv") %>%
    mutate(details = str_replace_all(
        details,
        "\\{return\\}",
        "\n"
    )) %>%
    mutate(year = as.character(year))

if(output_format == "docx"){

service <- flextable(service) %>%
    delete_part("header")

set_table_properties(service, layout = "autofit")
}else{
  kable(service)
}

```

